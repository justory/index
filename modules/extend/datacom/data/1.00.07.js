"use strict";define(["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0});var r={publish:function(){var e=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1];$(document).trigger(e,r),justory.log("publish data:",{key:e,value:r})},subscribe:function(){for(var e=arguments.length,r=Array(e),a=0;e>a;a++)r[a]=arguments[a];$(document).on(r[0],function(e,a){r.last()(a),justory.log("subscribe data:",{data:a})})},send:function(){var e=justory.configs,r=arguments.length<=0?void 0:arguments[0],a=r.win,t=r.frame,n=r.subframe,o=(r.frameGroup,r.data),u=r.name,s=r.frameName,i=r.script,m=function(r,a){var t="";return r&&(t=r.module+"_"+r.name,t=="root_"+e.defaultFN&&[t="root"],"com"==a&&[t=e.prefixCOM+t],"frameGroup"==a&&[t=e.prefixFG+t]),t};"string"!=typeof o&&[o=JSON.stringify(o)],i="window._execScript("+o+");",a&&!a.frameGroup?(u=m(a),s=m(t),justory.log("sendData:",{win:u,frame:s,data:o})):n?(u=m(n,"com"),s=m(n),justory.log("sendData:",{subframe:u,frame:s,data:o})):a&&a.frameGroup&&t&&(u=m(a),s=m(t,"frameGroup"),justory.log("sendData:",{frameGroup:a.frameGroup,frame:s,data:o})),api.execScript({name:u,frameName:s,script:i})},get:function(){for(var e=arguments.length,a=Array(e),t=0;e>t;t++)a[t]=arguments[t];r.subscribe("_execScriptData",function(e){a.last()(e)}),justory.log("getData beginning...")}};e["default"]=r});